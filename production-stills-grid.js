// Production Stills Grid Layout
document.addEventListener('DOMContentLoaded', () => {
    const productionStillsImages = [
        'production-stills-web/478D16D2-E0D2-47E7-AF97-0B85A2A3CEC2.jpg',
        'production-stills-web/ALPACINO_SBP08952.jpg',
        'production-stills-web/IMG_0012.jpg',
        'production-stills-web/IMG_0173.jpg',
        'production-stills-web/IMG_0174.jpg',
        'production-stills-web/IMG_0345.jpg',
        'production-stills-web/IMG_0346.jpg',
        'production-stills-web/IMG_0972.jpg',
        'production-stills-web/IMG_1022.jpg',
        'production-stills-web/IMG_1024.jpg',
        'production-stills-web/IMG_1189.jpg',
        'production-stills-web/IMG_1418.jpg',
        'production-stills-web/IMG_1557.jpg',
        'production-stills-web/IMG_1574.jpg',
        'production-stills-web/IMG_2632.jpg',
        'production-stills-web/IMG_3718.jpg',
        'production-stills-web/IMG_3840.jpg',
        'production-stills-web/IMG_3851.jpg',
        'production-stills-web/IMG_3868.jpg',
        'production-stills-web/IMG_3927.jpg',
        'production-stills-web/IMG_3964.jpg',
        'production-stills-web/IMG_4006.jpg',
        'production-stills-web/IMG_5796.jpg',
        'production-stills-web/IMG_6862.jpg',
        'production-stills-web/IMG_7012.jpg',
        'production-stills-web/IMG_7235.jpg',
        'production-stills-web/IMG_7782.jpg',
        'production-stills-web/IMG_7870.jpg',
        'production-stills-web/IMG_8073.jpg',
        'production-stills-web/IMG_8436.jpg',
        'production-stills-web/IMG_8615.jpg',
        'production-stills-web/IMG_8621.jpg',
        'production-stills-web/IMG_8622.jpg',
        'production-stills-web/IMG_8730.jpg',
        'production-stills-web/IMG_8765.jpg',
        'production-stills-web/IMG_8779.jpg',
        'production-stills-web/IMG_9087.jpg',
        'production-stills-web/IMG_9123.jpg',
        'production-stills-web/IMG_9129.jpg',
        'production-stills-web/IMG_9488.jpg',
        'production-stills-web/IMG_9572.jpg',
        'production-stills-web/IMG_9606.jpg',
        'production-stills-web/IMG_9612.jpg',
        'production-stills-web/IMG_9613.jpg',
        'production-stills-web/IMG_9615.jpg',
        'production-stills-web/IMG_9674.jpg',
        'production-stills-web/IMG_9734.jpg',
        'production-stills-web/IMG_9852.jpg'
    ];

    const imageGrid = document.getElementById('imageGrid');
    if (!imageGrid) {
        // Create the grid structure if it doesn't exist
        const container = document.querySelector('.slideshow-container');
        if (container) {
            container.innerHTML = `
                <div class="image-grid-container">
                    <div class="image-grid" id="imageGrid">
                        <!-- Images will be generated by JavaScript -->
                    </div>
                </div>
            `;
        }
    }

    const grid = document.getElementById('imageGrid');
    if (grid) {
        // Create image squares for each image
        productionStillsImages.forEach((imagePath, index) => {
            const imageSquare = document.createElement('div');
            imageSquare.className = 'image-square';
            
            const img = document.createElement('img');
            img.src = imagePath;
            img.alt = `Production Still ${index + 1}`;
            img.loading = 'lazy';
            
            imageSquare.appendChild(img);
            grid.appendChild(imageSquare);
            
            // Add click handler for fullscreen
            imageSquare.addEventListener('click', () => {
                openImageModal(imagePath, index + 1);
            });
        });
    }
});

function openImageModal(imageSrc, imageNumber) {
    // Create modal if it doesn't exist
    let modal = document.getElementById('imageModal');
    if (!modal) {
        modal = document.createElement('div');
        modal.id = 'imageModal';
        modal.className = 'image-modal';
        modal.innerHTML = `
            <div class="modal-content">
                <button class="close-modal">&times;</button>
                <img id="modalImage" src="" alt="">
                <div class="image-description" id="modalDescription"></div>
            </div>
        `;
        document.body.appendChild(modal);
    }
    
    // Set image and show modal
    const modalImage = document.getElementById('modalImage');
    const modalDescription = document.getElementById('modalDescription');
    
    modalImage.src = imageSrc;
    modalDescription.textContent = `Production Still ${imageNumber}`;
    modal.style.display = 'flex';
    
    // Close modal handlers
    const closeModal = modal.querySelector('.close-modal');
    closeModal.onclick = () => modal.style.display = 'none';
    modal.onclick = (e) => {
        if (e.target === modal) modal.style.display = 'none';
    };
}
